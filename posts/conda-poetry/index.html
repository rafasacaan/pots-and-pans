<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Conda + Poetry | pots and pans.</title><meta name=keywords content><meta name=description content="Whenever starting a new project, it is good to get started as nice and easy as possible. The fundamental bricks for this task is to generate an environment and a basic tree of files and directories. And of course, the necessary tools to keep things working from then on.
What else? We can treat our projects as packages right away, and get an awesome package manager such as poetry.
Conda, the environment-maker-manager."><meta name=author content><link rel=canonical href=http://rafasacaan.github.io/pots-and-pans/posts/conda-poetry/><link crossorigin=anonymous href=/pots-and-pans/assets/css/stylesheet.min.55a7d73879d73f559167b5679c19057296a7f4626666a82a81a4b1d68d060c3a.css integrity="sha256-VafXOHnXP1WRZ7VnnBkFcpan9GJmZqgqgaSx1o0GDDo=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/pots-and-pans/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://rafasacaan.github.io/pots-and-pans/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://rafasacaan.github.io/pots-and-pans/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://rafasacaan.github.io/pots-and-pans/favicon-32x32.png><link rel=apple-touch-icon href=http://rafasacaan.github.io/pots-and-pans/apple-touch-icon.png><link rel=mask-icon href=http://rafasacaan.github.io/pots-and-pans/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.96.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Conda + Poetry"><meta property="og:description" content="Whenever starting a new project, it is good to get started as nice and easy as possible. The fundamental bricks for this task is to generate an environment and a basic tree of files and directories. And of course, the necessary tools to keep things working from then on.
What else? We can treat our projects as packages right away, and get an awesome package manager such as poetry.
Conda, the environment-maker-manager."><meta property="og:type" content="article"><meta property="og:url" content="http://rafasacaan.github.io/pots-and-pans/posts/conda-poetry/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-02-03T15:01:59-03:00"><meta property="article:modified_time" content="2022-02-03T15:01:59-03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Conda + Poetry"><meta name=twitter:description content="Whenever starting a new project, it is good to get started as nice and easy as possible. The fundamental bricks for this task is to generate an environment and a basic tree of files and directories. And of course, the necessary tools to keep things working from then on.
What else? We can treat our projects as packages right away, and get an awesome package manager such as poetry.
Conda, the environment-maker-manager."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://rafasacaan.github.io/pots-and-pans/posts/"},{"@type":"ListItem","position":2,"name":"Conda + Poetry","item":"http://rafasacaan.github.io/pots-and-pans/posts/conda-poetry/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Conda + Poetry","name":"Conda \u002b Poetry","description":"Whenever starting a new project, it is good to get started as nice and easy as possible. The fundamental bricks for this task is to generate an environment and a basic tree of files and directories. And of course, the necessary tools to keep things working from then on.\nWhat else? We can treat our projects as packages right away, and get an awesome package manager such as poetry.\nConda, the environment-maker-manager.","keywords":[],"articleBody":"Whenever starting a new project, it is good to get started as nice and easy as possible. The fundamental bricks for this task is to generate an environment and a basic tree of files and directories. And of course, the necessary tools to keep things working from then on.\nWhat else? We can treat our projects as packages right away, and get an awesome package manager such as poetry.\nConda, the environment-maker-manager. Let´s create the most basic python environment, where the most important thing is to have a defined working python version. To do this, we can create a conda lite-weight environment from the following .yaml file:\nname: my_env_name  channels:  - default  - conda-forge  dependencies:  - python=3.8 Please notice that a name and python version are defined inside the file. Now, we can create our very basic env.\nconda env create -f environment.yaml That´s it with conda!\nPoetry, the hard-working-friend. First, we need to install poetry using:\ncurl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python - After installing poetry, we can run the following command on the terminal.\npoetry new my_project Several files will be created to get started, among these, a pyproject.toml file which is in charge to manage our dependencies.\nNow, we can do the following:\n We can install our dependencies, if added using poetry install. Install packages for production with poetry add  Install packages for development with poetry add  --dev Remove packages with poetry remove  Show packages with poetry show  Also, if we need to run an existing project, we can do poetry init to create the .toml file.\nSharing is caring Now, we can export our conda env, which was managed by poetry.\nconda env export  environment.yml With this file, we can recreate our environment with conda and run poetry install to get things up and running.\nEasy as a-b-c.\nNote! Something that helped a lot, was to restrict the space of python versions compatibility. I did this in the pyproject.toml file:\npython = \"=3.8,","wordCount":"330","inLanguage":"en","datePublished":"2022-02-03T15:01:59-03:00","dateModified":"2022-02-03T15:01:59-03:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://rafasacaan.github.io/pots-and-pans/posts/conda-poetry/"},"publisher":{"@type":"Organization","name":"pots and pans.","logo":{"@type":"ImageObject","url":"http://rafasacaan.github.io/pots-and-pans/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://rafasacaan.github.io/pots-and-pans/ accesskey=h title="pots and pans. (Alt + H)">pots and pans.</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://rafasacaan.github.io/pots-and-pans/>Home</a>&nbsp;»&nbsp;<a href=http://rafasacaan.github.io/pots-and-pans/posts/>Posts</a></div><h1 class=post-title>Conda + Poetry<sup><span class=entry-isdraft>&nbsp;&nbsp;[draft]</span></sup></h1><div class=post-meta><span title="2022-02-03 15:01:59 -0300 -0300">February 3, 2022</span>&nbsp;·&nbsp;2 min</div></header><div class=post-content><p>Whenever starting a new project, it is good to get started as nice and easy as possible. The fundamental bricks for this task is to generate an environment and a basic tree of files and directories. And of course, the necessary tools to keep things working from then on.</p><p>What else? We can treat our projects as packages right away, and get an awesome package manager such as poetry.</p><h2 id=conda-the-environment-maker-manager>Conda, the environment-maker-manager.<a hidden class=anchor aria-hidden=true href=#conda-the-environment-maker-manager>#</a></h2><p>Let´s create the most basic python environment, where the most important thing is to have a defined working python version. To do this, we can create a conda lite-weight environment from the following <em>.yaml</em> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name: my_env_name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>channels:
</span></span><span style=display:flex><span>  - default
</span></span><span style=display:flex><span>  - conda-forge
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>dependencies:
</span></span><span style=display:flex><span>  - python<span style=color:#f92672>=</span>3.8
</span></span></code></pre></div><p>Please notice that a <code>name</code> and <code>python version</code> are defined inside the file. Now, we can create our very basic env.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda env create -f environment.yaml
</span></span></code></pre></div><p>That´s it with <code>conda</code>!</p><h2 id=poetry-the-hard-working-friend>Poetry, the hard-working-friend.<a hidden class=anchor aria-hidden=true href=#poetry-the-hard-working-friend>#</a></h2><p>First, we need to install poetry using:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -
</span></span></code></pre></div><p>After installing <code>poetry</code>, we can run the following command on the terminal.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry new my_project
</span></span></code></pre></div><p>Several files will be created to get started, among these, a <code>pyproject.toml</code> file which is in charge to manage our dependencies.</p><p>Now, we can do the following:</p><ul><li>We can install our dependencies, if added using <code>poetry install</code>.</li><li>Install packages for production with <code>poetry add &lt;a-name></code></li><li>Install packages for development with <code>poetry add &lt;a-name> --dev</code></li><li>Remove packages with <code>poetry remove &lt;a-name></code></li><li>Show packages with <code>poetry show</code></li></ul><p>Also, if we need to run an existing project, we can do <code>poetry init</code> to create the <em>.toml</em> file.</p><h2 id=sharing-is-caring>Sharing is caring<a hidden class=anchor aria-hidden=true href=#sharing-is-caring>#</a></h2><p>Now, we can export our conda env, which was managed by poetry.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda env export &gt; environment.yml
</span></span></code></pre></div><p>With this file, we can recreate our environment with conda and run <code>poetry install</code> to get things up and running.</p><p>Easy as a-b-c.</p><h2 id=note>Note!<a hidden class=anchor aria-hidden=true href=#note>#</a></h2><p>Something that helped a lot, was to restrict the space of python versions compatibility. I did this in the <strong>pyproject.toml</strong> file:</p><pre tabindex=0><code>python = &#34;&gt;=3.8,&lt;3.9&#34;
</code></pre></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://rafasacaan.github.io/pots-and-pans/>pots and pans.</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>