<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Poetry for starters | pots and pans.</title><meta name=keywords content><meta name=description content="Lately, while working at different data science projects, I have seen myself repeated times in the situation of guiding others to build python environments and on top, a specific set of dependencies. Suddenly, I realized that for me this was never a trivial task: to create, mantain and handle on a working python environment.
After searching the web, I have found that this task can be tackled by, first, setting the foundations: a python environment, and second, build a house that fits your needs: packages and dependencies."><meta name=author content><link rel=canonical href=http://rafasacaan.github.io/pots-and-pans/posts/poetry-starters/><link crossorigin=anonymous href=/pots-and-pans/assets/css/stylesheet.min.55a7d73879d73f559167b5679c19057296a7f4626666a82a81a4b1d68d060c3a.css integrity="sha256-VafXOHnXP1WRZ7VnnBkFcpan9GJmZqgqgaSx1o0GDDo=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/pots-and-pans/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://rafasacaan.github.io/pots-and-pans/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://rafasacaan.github.io/pots-and-pans/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://rafasacaan.github.io/pots-and-pans/favicon-32x32.png><link rel=apple-touch-icon href=http://rafasacaan.github.io/pots-and-pans/apple-touch-icon.png><link rel=mask-icon href=http://rafasacaan.github.io/pots-and-pans/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.96.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Poetry for starters"><meta property="og:description" content="Lately, while working at different data science projects, I have seen myself repeated times in the situation of guiding others to build python environments and on top, a specific set of dependencies. Suddenly, I realized that for me this was never a trivial task: to create, mantain and handle on a working python environment.
After searching the web, I have found that this task can be tackled by, first, setting the foundations: a python environment, and second, build a house that fits your needs: packages and dependencies."><meta property="og:type" content="article"><meta property="og:url" content="http://rafasacaan.github.io/pots-and-pans/posts/poetry-starters/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-02-03T15:01:59-03:00"><meta property="article:modified_time" content="2022-02-03T15:01:59-03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Poetry for starters"><meta name=twitter:description content="Lately, while working at different data science projects, I have seen myself repeated times in the situation of guiding others to build python environments and on top, a specific set of dependencies. Suddenly, I realized that for me this was never a trivial task: to create, mantain and handle on a working python environment.
After searching the web, I have found that this task can be tackled by, first, setting the foundations: a python environment, and second, build a house that fits your needs: packages and dependencies."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://rafasacaan.github.io/pots-and-pans/posts/"},{"@type":"ListItem","position":2,"name":"Poetry for starters","item":"http://rafasacaan.github.io/pots-and-pans/posts/poetry-starters/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Poetry for starters","name":"Poetry for starters","description":"Lately, while working at different data science projects, I have seen myself repeated times in the situation of guiding others to build python environments and on top, a specific set of dependencies. Suddenly, I realized that for me this was never a trivial task: to create, mantain and handle on a working python environment.\nAfter searching the web, I have found that this task can be tackled by, first, setting the foundations: a python environment, and second, build a house that fits your needs: packages and dependencies.","keywords":[],"articleBody":"Lately, while working at different data science projects, I have seen myself repeated times in the situation of guiding others to build python environments and on top, a specific set of dependencies. Suddenly, I realized that for me this was never a trivial task: to create, mantain and handle on a working python environment.\nAfter searching the web, I have found that this task can be tackled by, first, setting the foundations: a python environment, and second, build a house that fits your needs: packages and dependencies.\nThe foundations: python An easy way to create a python environment is using the pyenv library, but specifically the pyenv-virtualenv package will make our lives so much easier. Lets install it in our local system (macosx):\nbrew install pyenv-virtualenv Once installed, you can add different python versions to pyenv in order to make them available as a foundation for our future python environments. For example, let’s add version 3.8.8:\npyenv install 3.8.8 Now, let’s try and create our first environment.\npyenv virtualenv 3.8.8 my_first_env As you can see, we have provided the python version required and a name for our environment. If an error occurs and your env could not be created, try adding the following two lines to your .bash_profile:\neval \"$(pyenv init -)\" eval \"$(pyenv virtualenv-init -)\" Perfect! Now that you have created your first env, you can activate/deactivate it by typing:\npyenv activate my_first_env pyenv deactivate You can check your created python envs by typing pyenv virtualenvs and check the python version once inside with pyenv version. You can also remove an env with pyenv uninstall bye_bye_env.\nGreat! Solid foundations have been stablished.\nThe house: poetry for dependencies After setting the foundations, we need to build our house based on different modules that must fit each other. Here is where poetry shines and will become your perfect dependency manager. Check their website and install it with the following command:\ncurl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python - Make sure it was correctly installed by typing poetry --version.\nNow, we can got to our favorite directory and create a new project.\npoetry new first_project We can now add, search and remove python packages by typing:\npoetry add  poetry search  poetry remove  You can also tell poetry which python env to use by providing the path\npoetry env use /usr/bin/python3 and enter the virtual env by running\npoetry shell and exit with\nexit To build from a poetry.lock file\npoetry install To update env\npoetry update To export to requirements.txt file:\npoetry export -f requirements.txt -o requirements.txt Check/delete poetry python envs:\npoetry env list poetry env remove /full/path/to/python Check for poetry dependencies\npoetry show That’s it!\n","wordCount":"445","inLanguage":"en","datePublished":"2022-02-03T15:01:59-03:00","dateModified":"2022-02-03T15:01:59-03:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://rafasacaan.github.io/pots-and-pans/posts/poetry-starters/"},"publisher":{"@type":"Organization","name":"pots and pans.","logo":{"@type":"ImageObject","url":"http://rafasacaan.github.io/pots-and-pans/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://rafasacaan.github.io/pots-and-pans/ accesskey=h title="pots and pans. (Alt + H)">pots and pans.</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://rafasacaan.github.io/pots-and-pans/>Home</a>&nbsp;»&nbsp;<a href=http://rafasacaan.github.io/pots-and-pans/posts/>Posts</a></div><h1 class=post-title>Poetry for starters<sup><span class=entry-isdraft>&nbsp;&nbsp;[draft]</span></sup></h1><div class=post-meta><span title="2022-02-03 15:01:59 -0300 -0300">February 3, 2022</span>&nbsp;·&nbsp;3 min</div></header><div class=post-content><p>Lately, while working at different data science projects, I have seen myself
repeated times in the situation of guiding others to build python
environments and on top, a specific set of dependencies. Suddenly, I realized
that for me this was never a trivial task: to create, mantain and handle on a
working python environment.</p><p>After searching the web, I have found that this task can be tackled by, first,
setting the foundations: a python environment, and second, build a house that
fits your needs: packages and dependencies.</p><h2 id=the-foundations-python>The foundations: python<a hidden class=anchor aria-hidden=true href=#the-foundations-python>#</a></h2><p>An easy way to create a python environment is using the <code>pyenv</code> library,
but specifically the <code>pyenv-virtualenv</code> package will make our lives so much easier.
Lets install it in our local system (macosx):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install pyenv-virtualenv
</span></span></code></pre></div><p>Once installed, you can add different python versions to <code>pyenv</code> in order to make
them available as a foundation for our future python environments. For example,
let&rsquo;s add version 3.8.8:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pyenv install 3.8.8
</span></span></code></pre></div><p>Now, let&rsquo;s try and create our first environment.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pyenv virtualenv 3.8.8 my_first_env
</span></span></code></pre></div><p>As you can see, we have provided the python version required and a name for
our environment. If an error occurs and your env could not be created, try
adding the following two lines to your <em>.bash_profile</em>:</p><pre tabindex=0><code>eval &#34;$(pyenv init -)&#34;
eval &#34;$(pyenv virtualenv-init -)&#34;
</code></pre><p>Perfect! Now that you have created your first env, you can activate/deactivate it
by typing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pyenv activate my_first_env
</span></span><span style=display:flex><span>pyenv deactivate
</span></span></code></pre></div><p>You can check your created python envs by typing <code>pyenv virtualenvs</code> and check
the python version once inside with <code>pyenv version</code>. You can also remove an env
with <code>pyenv uninstall bye_bye_env</code>.</p><p>Great! Solid foundations have been stablished.</p><h2 id=the-house-poetry-for-dependencies>The house: poetry for dependencies<a hidden class=anchor aria-hidden=true href=#the-house-poetry-for-dependencies>#</a></h2><p>After setting the foundations, we need to build our house based on different
modules that must fit each other. Here is where <code>poetry</code> shines and will become
your perfect dependency manager. Check their website and install it with the
following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -
</span></span></code></pre></div><p>Make sure it was correctly installed by typing <code>poetry --version</code>.</p><p>Now, we can got to our favorite directory and create a new project.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry new first_project
</span></span></code></pre></div><p>We can now add, search and remove python packages by typing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry add &lt;package&gt;
</span></span><span style=display:flex><span>poetry search &lt;package&gt;
</span></span><span style=display:flex><span>poetry remove &lt;package&gt;
</span></span></code></pre></div><p>You can also tell poetry which python env to use by providing the path</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry env use /usr/bin/python3
</span></span></code></pre></div><p>and enter the virtual env by running</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry shell
</span></span></code></pre></div><p>and exit with</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>exit
</span></span></code></pre></div><p>To build from a poetry.lock file</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry install
</span></span></code></pre></div><p>To update env</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry update
</span></span></code></pre></div><p>To export to requirements.txt file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry export -f requirements.txt -o requirements.txt
</span></span></code></pre></div><p>Check/delete poetry python envs:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry env list
</span></span><span style=display:flex><span>poetry env remove /full/path/to/python
</span></span></code></pre></div><p>Check for poetry dependencies</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>poetry show
</span></span></code></pre></div><p>That&rsquo;s it!</p></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://rafasacaan.github.io/pots-and-pans/>pots and pans.</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>